# RunCombi_Android

## ğŸ“± í”„ë¡œì íŠ¸ ê°œìš”

**RunCombi**ëŠ” ë°˜ë ¤ë™ë¬¼ê³¼ í•¨ê»˜í•˜ëŠ” ìš´ë™ì„ ê¸°ë¡í•˜ê³  ê´€ë¦¬í•˜ëŠ” Android ì• í”Œë¦¬ì¼€ì´ì…˜ì…ë‹ˆë‹¤.

### ì£¼ìš” ê¸°ëŠ¥
- ğŸ• ë°˜ë ¤ë™ë¬¼ê³¼ í•¨ê»˜í•˜ëŠ” ìš´ë™ ê¸°ë¡
- ğŸ—ºï¸ GPS ê¸°ë°˜ ê²½ë¡œ ì¶”ì 
- ğŸ‘¥ ì‚¬ìš©ì í”„ë¡œí•„ ë° ë°˜ë ¤ë™ë¬¼ ê´€ë¦¬

## ğŸ› ï¸ í”„ë¡œì íŠ¸ ê¸°ìˆ  ìŠ¤íƒ

<div align="center">

![Kotlin](https://img.shields.io/badge/Kotlin-100%25-purple?style=for-the-badge&logo=kotlin)
![Android](https://img.shields.io/badge/Android-API%2026+-green?style=for-the-badge&logo=android)
![Jetpack Compose](https://img.shields.io/badge/UI-Jetpack%20Compose-blue?style=for-the-badge)
![Clean Architecture](https://img.shields.io/badge/Architecture-Clean%20Architecture-orange?style=for-the-badge)

</div>

### ğŸ“± Android & Kotlin

| í•­ëª© | ë‚´ìš© | ë²„ì „ |
|------|------|------|
| **ì–¸ì–´** | Kotlin | 100% |
| **ìµœì†Œ SDK** | Android 8.0 | API 26 |
| **íƒ€ê²Ÿ SDK** | Android 15 | API 35 |
| **UI í”„ë ˆì„ì›Œí¬** | Jetpack Compose | ìµœì‹  |

### ğŸ—ï¸ ì•„í‚¤í…ì²˜ & íŒ¨í„´

| íŒ¨í„´ | ì„¤ëª… | ì ìš© ë²”ìœ„ |
|------|------|-----------|
| **Clean Architecture** | ê³„ì¸µë³„ ê´€ì‹¬ì‚¬ ë¶„ë¦¬ | ì „ì²´ í”„ë¡œì íŠ¸ |
| **MVVM** | Model-View-ViewModel íŒ¨í„´ | UI ê³„ì¸µ |
| **Repository Pattern** | ë°ì´í„° ì ‘ê·¼ ì¶”ìƒí™” | ë°ì´í„° ê³„ì¸µ |
| **UseCase Pattern** | ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ìº¡ìŠí™” | ë„ë©”ì¸ ê³„ì¸µ |

### ğŸ”§ ì£¼ìš” ë¼ì´ë¸ŒëŸ¬ë¦¬

<div align="center">

![Hilt](https://img.shields.io/badge/DI-Hilt-red?style=flat-square&logo=android)
![Coroutines](https://img.shields.io/badge/Async-Coroutines%20%2B%20Flow-green?style=flat-square&logo=kotlin)
![Navigation](https://img.shields.io/badge/Navigation-Jetpack%20Navigation-blue?style=flat-square&logo=android)
![StateFlow](https://img.shields.io/badge/State-StateFlow-orange?style=flat-square&logo=kotlin)
![DataStore](https://img.shields.io/badge/Storage-DataStore%20%2B%20Room-purple?style=flat-square&logo=android)
![Retrofit](https://img.shields.io/badge/Network-Retrofit%20%2B%20OkHttp-blue?style=flat-square&logo=square)
![Coil](https://img.shields.io/badge/Image-Coil-green?style=flat-square&logo=android)

</div>

| ì¹´í…Œê³ ë¦¬ | ë¼ì´ë¸ŒëŸ¬ë¦¬ | ìš©ë„ |
|----------|------------|------|
| **ì˜ì¡´ì„± ì£¼ì…** | Hilt | DI ì»¨í…Œì´ë„ˆ |
| **ë¹„ë™ê¸° ì²˜ë¦¬** | Kotlin Coroutines + Flow | ë¹„ë™ê¸° ì‘ì—… |
| **ë„¤ë¹„ê²Œì´ì…˜** | Jetpack Navigation Compose | í™”ë©´ ì „í™˜ |
| **ìƒíƒœ ê´€ë¦¬** | StateFlow, MutableStateFlow | UI ìƒíƒœ |
| **ë°ì´í„° ì €ì¥** | Proto DataStore, Room | ë¡œì»¬ ë°ì´í„° |
| **ë„¤íŠ¸ì›Œí¬** | Retrofit, OkHttp | API í†µì‹  |
| **ì´ë¯¸ì§€ ì²˜ë¦¬** | Coil | ì´ë¯¸ì§€ ë¡œë”© |
| **ê¶Œí•œ ê´€ë¦¬** | Accompanist Permissions | ê¶Œí•œ ì²˜ë¦¬ |

### ğŸ“Š ì™¸ë¶€ ì„œë¹„ìŠ¤

<div align="center">

![Firebase](https://img.shields.io/badge/Analytics-Firebase%20Analytics-orange?style=flat-square&logo=firebase)
![Crashlytics](https://img.shields.io/badge/Crash%20Reporting-Firebase%20Crashlytics-red?style=flat-square&logo=firebase)
![Google Maps](https://img.shields.io/badge/Maps-Google%20Maps%20API-blue?style=flat-square&logo=google-maps)
![Kakao](https://img.shields.io/badge/Login-Kakao%20SDK-yellow?style=flat-square&logo=kakao)

</div>

| ì„œë¹„ìŠ¤ | ìš©ë„ | í†µí•© ë°©ì‹ |
|--------|------|-----------|
| **Firebase Analytics** | ì‚¬ìš©ì í–‰ë™ ë¶„ì„ | SDK í†µí•© |
| **Firebase Crashlytics** | í¬ë˜ì‹œ ë¦¬í¬íŒ… | SDK í†µí•© |
| **Google Maps API** | ì§€ë„ ë° ìœ„ì¹˜ ì„œë¹„ìŠ¤ | API í‚¤ |
| **Kakao SDK** | ì†Œì…œ ë¡œê·¸ì¸ | SDK í†µí•© |

## ğŸ“ í”„ë¡œì íŠ¸ ëª¨ë“ˆ íŠ¸ë¦¬

```
RunCombi_Android/
â”œâ”€â”€ app/                                    # ë©”ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ ëª¨ë“ˆ
â”œâ”€â”€ build-logic/                           # ë¹Œë“œ ë¡œì§ ëª¨ë“ˆ
â”œâ”€â”€ core/                                  # í•µì‹¬ ê³µí†µ ëª¨ë“ˆ
â”‚   â”œâ”€â”€ analytics/                         # ë¶„ì„ ë„êµ¬
â”‚   â”œâ”€â”€ data/                              # ë°ì´í„° ê³„ì¸µ
â”‚   â”‚   â”œâ”€â”€ auth/                          # ì¸ì¦ ë°ì´í„°
â”‚   â”‚   â”œâ”€â”€ common/                        # ê³µí†µ ë°ì´í„°
â”‚   â”‚   â”œâ”€â”€ history/                       # íˆìŠ¤í† ë¦¬ ë°ì´í„°
â”‚   â”‚   â”œâ”€â”€ setting/                       # ì„¤ì • ë°ì´í„°
â”‚   â”‚   â”œâ”€â”€ user/                          # ì‚¬ìš©ì ë°ì´í„°
â”‚   â”‚   â”œâ”€â”€ walk/                          # ìš´ë™ ë°ì´í„°
â”‚   â”‚   â”œâ”€â”€ datastore/                     # ë¡œì»¬ ë°ì´í„° ì €ì¥ì†Œ
â”‚   â”‚   â””â”€â”€ network/                       # ë„¤íŠ¸ì›Œí¬ í†µì‹ 
â”‚   â”œâ”€â”€ designsystem/                      # ë””ìì¸ ì‹œìŠ¤í…œ
â”‚   â”œâ”€â”€ domain/                            # ë„ë©”ì¸ ê³„ì¸µ
â”‚   â”‚   â”œâ”€â”€ auth/                          # ì¸ì¦ ë„ë©”ì¸
â”‚   â”‚   â”œâ”€â”€ common/                        # ê³µí†µ ë„ë©”ì¸
â”‚   â”‚   â”œâ”€â”€ history/                       # íˆìŠ¤í† ë¦¬ ë„ë©”ì¸
â”‚   â”‚   â”œâ”€â”€ setting/                       # ì„¤ì • ë„ë©”ì¸
â”‚   â”‚   â”œâ”€â”€ user/                          # ì‚¬ìš©ì ë„ë©”ì¸
â”‚   â”‚   â””â”€â”€ walk/                          # ìš´ë™ ë„ë©”ì¸
â”‚   â”œâ”€â”€ navigation/                        # ë„¤ë¹„ê²Œì´ì…˜
â”‚   â””â”€â”€ ui/                                # ê³µí†µ UI ì»´í¬ë„ŒíŠ¸
â””â”€â”€ feature/                               # ê¸°ëŠ¥ë³„ ëª¨ë“ˆ
    â”œâ”€â”€ history/                           # ìš´ë™ íˆìŠ¤í† ë¦¬
    â”œâ”€â”€ login/                             # ë¡œê·¸ì¸/ì¸ì¦
    â”œâ”€â”€ main/                              # ë©”ì¸ í™”ë©´
    â”œâ”€â”€ setting/                           # ì„¤ì •
    â”œâ”€â”€ signup/                            # íšŒì›ê°€ì…
    â””â”€â”€ walk/                              # ìš´ë™ ì¶”ì 
```

## ğŸ­ Flavor ì‹œìŠ¤í…œ

### Product Flavors
í”„ë¡œì íŠ¸ëŠ” ê°œë°œ í™˜ê²½ê³¼ í”„ë¡œë•ì…˜ í™˜ê²½ì„ ë¶„ë¦¬í•˜ê¸° ìœ„í•´ ë‘ ê°€ì§€ flavorë¥¼ ì œê³µí•©ë‹ˆë‹¤.

#### ğŸ§ª Mock Flavor
- **ëª©ì **: ê°œë°œ ë° í…ŒìŠ¤íŠ¸ í™˜ê²½
- **íŠ¹ì§•**:
  - ê°€ì§œ ë°ì´í„°(Mock Data) ì‚¬ìš©
  - ë„¤íŠ¸ì›Œí¬ API í˜¸ì¶œ ì—†ì´ ë¡œì»¬ì—ì„œ í…ŒìŠ¤íŠ¸
  - ë¹ ë¥¸ ê°œë°œ ë° ë””ë²„ê¹…
  - í…ŒìŠ¤íŠ¸ ë°ì´í„°ë¡œ UI ê²€ì¦

#### ğŸš€ Prod Flavor
- **ëª©ì **: ì‹¤ì œ í”„ë¡œë•ì…˜ í™˜ê²½
- **íŠ¹ì§•**:
  - ì‹¤ì œ ì„œë²„ API ì—°ë™
  - Firebase ì„œë¹„ìŠ¤ ì—°ë™
  - Google Maps API ì—°ë™
  - ì‹¤ì œ ì‚¬ìš©ì ë°ì´í„° ì²˜ë¦¬


### Flavorë³„ ì„¤ì • íŒŒì¼
```
app/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ mock/                    # Mock flavor ì „ìš© ì†ŒìŠ¤
â”‚   â”‚   â”œâ”€â”€ java/
â”‚   â”‚   â”‚   â””â”€â”€ com/combo/runcombi/
â”‚   â”‚   â”‚       â””â”€â”€ mock/        # Mock ë°ì´í„° êµ¬í˜„
â”‚   â”‚   â””â”€â”€ res/
â”‚   â”œâ”€â”€ prod/                    # Prod flavor ì „ìš© ì†ŒìŠ¤
â”‚   â”‚   â”œâ”€â”€ java/
â”‚   â”‚   â”‚   â””â”€â”€ com/combo/runcombi/
â”‚   â”‚   â”‚       â””â”€â”€ prod/        # ì‹¤ì œ ì„œë¹„ìŠ¤ êµ¬í˜„
â”‚   â”‚   â””â”€â”€ res/
â”‚   â””â”€â”€ main/                    # ê³µí†µ ì†ŒìŠ¤
```


### Flavor í™œìš© ì‹œë‚˜ë¦¬ì˜¤

#### ğŸ§ª ê°œë°œ ë‹¨ê³„ (Mock)
- UI ê°œë°œ ë° í…ŒìŠ¤íŠ¸
- ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ê²€ì¦
- ë„¤íŠ¸ì›Œí¬ ì—†ì´ ë¹ ë¥¸ ë°˜ë³µ ê°œë°œ
- í…ŒìŠ¤íŠ¸ ë°ì´í„°ë¡œ ë‹¤ì–‘í•œ ì‹œë‚˜ë¦¬ì˜¤ ê²€ì¦

#### ğŸš€ ë°°í¬ ë‹¨ê³„ (Prod)
- ì‹¤ì œ ì„œë²„ì™€ì˜ ì—°ë™ í…ŒìŠ¤íŠ¸
- ì„±ëŠ¥ ë° ì•ˆì •ì„± ê²€ì¦
- ì‹¤ì œ ì‚¬ìš©ì ì‹œë‚˜ë¦¬ì˜¤ í…ŒìŠ¤íŠ¸
- ìŠ¤í† ì–´ ë°°í¬ìš© ë¹Œë“œ

## ğŸ”„ CI/CD íŒŒì´í”„ë¼ì¸ íë¦„

### ğŸ“± Slack ë¹Œë“œ ì•Œë¦¼ ì˜ˆì‹œ
![RunCombi Android ë¹Œë“œ ì„±ê³µ ì•Œë¦¼](./docs/images/slack_notification.png)


```
1. ê°œë°œì ì½”ë“œ Push/PR ìƒì„±
   â†“
2. GitHub Actions ìë™ íŠ¸ë¦¬ê±°
   â†“
3. ìë™ ë¹Œë“œ ì‹¤í–‰
   â†“
4. ë¹Œë“œ ì„±ê³µ ì‹œ:
   â”œâ”€â”€ Firebase Distribution ìë™ ì—…ë¡œë“œ
   â”œâ”€â”€ Slack #1-android ì±„ë„ë¡œ ì•Œë¦¼ ì „ì†¡
   â””â”€â”€ GitHub Release ìë™ ìƒì„±
   â†“
5. QA íŒ€ ë° í…ŒìŠ¤í„°ì—ê²Œ ìë™ ë°°í¬
   â”œâ”€â”€ Firebase ì½˜ì†”ì—ì„œ APK ë‹¤ìš´ë¡œë“œ
   â”œâ”€â”€ í…ŒìŠ¤íŠ¸ í™˜ê²½ì—ì„œ ê¸°ëŠ¥ ê²€ì¦
   â””â”€â”€ í”¼ë“œë°± ìˆ˜ì§‘ ë° ì´ìŠˆ ë“±ë¡

```

## ğŸ¨ ë·°ëª¨ë¸ ë° UI ë¡œì§ íŒ¨í„´

### ğŸ“± ViewModel íŒ¨í„´

#### ê¸°ë³¸ êµ¬ì¡°
```kotlin
@HiltViewModel
class ExampleViewModel @Inject constructor(
    private val useCase: ExampleUseCase,
) : ViewModel() {
    
    private val _uiState = MutableStateFlow(ExampleUiState())
    val uiState: StateFlow<ExampleUiState> = _uiState.asStateFlow()
    
    private val _eventFlow = MutableSharedFlow<ExampleEvent>()
    val eventFlow: SharedFlow<ExampleEvent> = _eventFlow.asSharedFlow()
    
    fun handleAction(action: ExampleAction) {
        viewModelScope.launch {
            when (action) {
                is ExampleAction.Load -> loadData()
                is ExampleAction.Submit -> submitData(action.data)
            }
        }
    }
    
    private suspend fun loadData() {
        _uiState.update { it.copy(isLoading = true) }
        
        try {
            val result = useCase.execute()
            _uiState.update { 
                it.copy(
                    data = result,
                    isLoading = false
                )
            }
        } catch (e: Exception) {
            _uiState.update { 
                it.copy(
                    error = e.message,
                    isLoading = false
                )
            }
        }
    }
}
```

#### UI ìƒíƒœ ê´€ë¦¬
```kotlin
data class ExampleUiState(
    val data: List<ExampleData> = emptyList(),
    val isLoading: Boolean = false,
    val error: String? = null,
    val selectedItem: ExampleData? = null
)

sealed class ExampleEvent {
    object NavigateToDetail : ExampleEvent()
    object ShowError : ExampleEvent()
    data class ShowToast(val message: String) : ExampleEvent()
}
```

### ğŸ¨ Compose UI íŒ¨í„´

#### í™”ë©´ êµ¬ì¡°
```kotlin
@Composable
fun ExampleScreen(
    onNavigate: (String) -> Unit,
    viewModel: ExampleViewModel = hiltViewModel()
) {
    val uiState by viewModel.uiState.collectAsStateWithLifecycle()
    
    LaunchedEffect(Unit) {
        viewModel.handleAction(ExampleAction.Load)
    }
    
    LaunchedEffect(Unit) {
        viewModel.eventFlow.collectLatest { event ->
            when (event) {
                is ExampleEvent.NavigateToDetail -> onNavigate("detail")
                is ExampleEvent.ShowError -> { /* ì—ëŸ¬ ì²˜ë¦¬ */ }
                is ExampleEvent.ShowToast -> { /* í† ìŠ¤íŠ¸ í‘œì‹œ */ }
            }
        }
    }
    
    ExampleContent(
        uiState = uiState,
        onAction = viewModel::handleAction
    )
}
```

